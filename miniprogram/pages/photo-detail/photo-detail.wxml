<!--photo-detail.wxml-->
<view class="container">
  <!-- 顶部指示条 -->
  <view class="top-indicator"></view>

  <!-- 关闭按钮 -->
  <view class="close-btn" bindtap="onClose">
    <text class="icon">✕</text>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-text">加载中...</view>
  </view>

  <!-- 空状态 -->
  <view wx:elif="{{!loading && images.length === 0}}" class="empty-container">
    <text class="empty-text">暂无图片</text>
  </view>

  <!-- 全屏图片展示 -->
  <view wx:else class="photo-container">
    <!-- 背景渐变 -->
    <view class="background-gradient"></view>
    
    <!-- 可滑动的图片 -->
    <swiper 
      class="photo-swiper" 
      current="{{currentIndex}}"
      bindchange="onSwiperChange"
      circular="{{images.length > 1}}"
      indicator-dots="{{false}}"
    >
      <swiper-item wx:for="{{images}}" wx:key="*this">
        <view class="swiper-item-content">
          <image 
            class="full-image" 
            src="{{item}}" 
            mode="aspectFit"
            bindtap="onImageTap"
            show-menu-by-longpress="{{true}}"
          />
        </view>
      </swiper-item>
    </swiper>

    <!-- 图片计数器 -->
    <view class="counter">
      <text>{{currentIndex + 1}} / {{images.length}}</text>
    </view>

    <!-- 保存按钮 -->
    <view class="save-btn" bindtap="onSaveImage">
      <text class="save-icon">⬇</text>
    </view>
  </view>
</view>
